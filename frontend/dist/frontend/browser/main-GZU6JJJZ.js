import{c as Je}from"./chunk-GD2NK2LQ.js";import{D as Qe,E as Ze,a as W,b as De,c as Ne,d as D,e as K,f as qe,g as ze,h as Be,i as $e,j as Ue,l as We,m as S,o as de,p as Ke,q as Ge,r as N,s as Ye,t as G,u as Y,x as Q}from"./chunk-AXJIHI4T.js";import"./chunk-RSARWDAN.js";import{$b as je,A as P,Ab as w,Ba as Pe,Db as pe,Ia as p,Ja as m,Ka as ke,Ma as Oe,P as xe,Rb as Ve,Ta as _,U as Re,Ua as T,X as k,Y as O,Ya as y,Yb as V,Zb as j,_ as U,aa as B,ba as F,d as _e,ea as Ae,gb as Fe,hb as f,ia as we,ib as Te,ja as b,jb as a,ka as v,kb as l,lb as H,mb as E,oa as Se,ob as h,pb as d,qa as le,qb as He,r as C,ra as Me,rb as Ee,sb as Le,tb as ce,ub as c,vb as L,yb as R,za as Ie,zb as A}from"./chunk-O3LRXVWC.js";var ue=class{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}},ot=new ue,$=class{constructor(t,e,n,i,o){this.name=t;this.value=e;this.options=n;this.options=n||{},(this.options.style===null||this.options.style===void 0)&&(this.options.style=i),(this.options.explode===null||this.options.explode===void 0)&&(this.options.explode=o)}serializeValue(t,e=","){if(t==null)return"";if(t instanceof Array)return t.map(n=>this.serializeValue(n).split(e).join(encodeURIComponent(e))).join(e);if(typeof t=="object"){let n=[];for(let i of Object.keys(t)){let o=t[i];o!=null&&(o=this.serializeValue(o).split(e).join(encodeURIComponent(e)),this.options.explode?n.push(`${i}=${o}`):(n.push(i),n.push(o)))}return n.join(e)}else return String(t)}},me=class extends ${constructor(t,e,n){super(t,e,n,"simple",!1)}append(t){let e=this.value;e==null&&(e="");let n=this.options.style==="label"?".":"",i=this.options.explode?n===""?",":n:",",o=!1;return this.options.style==="matrix"&&(n=`;${this.name}=`,this.options.explode&&typeof e=="object"&&(n=";",e instanceof Array?(e=e.map(s=>`${this.name}=${this.serializeValue(s,";")}`),e=e.join(";"),o=!0):(e=this.serializeValue(e,";"),o=!0))),e=n+(o?e:this.serializeValue(e,i)),t=t.replace(`{${this.name}}`,e),t=t.replace(`{${n}${this.name}${this.options.explode?"*":""}}`,e),t}serializeValue(t,e=","){var n=typeof t=="string"?encodeURIComponent(t):super.serializeValue(t,e);return n=n.replace(/%3D/g,"="),n=n.replace(/%3B/g,";"),n=n.replace(/%2C/g,","),n}},fe=class extends ${constructor(t,e,n){super(t,e,n,"form",!0)}append(t){if(this.value instanceof Array)if(this.options.explode)for(let e of this.value)t=t.append(this.name,this.serializeValue(e));else{let e=this.options.style==="spaceDelimited"?" ":this.options.style==="pipeDelimited"?"|":",";return t.append(this.name,this.serializeValue(this.value,e))}else if(this.value!==null&&typeof this.value=="object")if(this.options.style==="deepObject")for(let e of Object.keys(this.value)){let n=this.value[e];n!=null&&(t=t.append(`${this.name}[${e}]`,this.serializeValue(n)))}else if(this.options.explode)for(let e of Object.keys(this.value)){let n=this.value[e];n!=null&&(t=t.append(e,this.serializeValue(n)))}else{let e=[];for(let n of Object.keys(this.value)){let i=this.value[n];i!=null&&(e.push(n),e.push(i))}t=t.append(this.name,this.serializeValue(e))}else this.value!==null&&this.value!==void 0&&(t=t.append(this.name,this.serializeValue(this.value)));return t}},he=class extends ${constructor(t,e,n){super(t,e,n,"simple",!1)}append(t){if(this.value!==null&&this.value!==void 0)if(this.value instanceof Array)for(let e of this.value)t=t.append(this.name,this.serializeValue(e));else t=t.append(this.name,this.serializeValue(this.value));return t}},M=class{constructor(t,e,n){this.rootUrl=t;this.operationPath=e;this.method=n}_path=new Map;_query=new Map;_header=new Map;_bodyContent;_bodyContentType;path(t,e,n){this._path.set(t,new me(t,e,n||{}))}query(t,e,n){this._query.set(t,new fe(t,e,n||{}))}header(t,e,n){this._header.set(t,new he(t,e,n||{}))}body(t,e="application/json"){if(t instanceof Blob?this._bodyContentType=t.type:this._bodyContentType=e,this._bodyContentType==="application/x-www-form-urlencoded"&&t!==null&&typeof t=="object"){let n=[];for(let i of Object.keys(t)){let o=t[i];o instanceof Array||(o=[o]);for(let s of o){let u=this.formDataValue(s);u!==null&&n.push([i,u])}}this._bodyContent=n.map(i=>`${encodeURIComponent(i[0])}=${encodeURIComponent(i[1])}`).join("&")}else if(this._bodyContentType==="multipart/form-data"){let n=new FormData;if(t!=null)for(let i of Object.keys(t)){let o=t[i];if(o instanceof Array)for(let s of o){let u=this.formDataValue(s);u!==null&&n.append(i,u)}else{let s=this.formDataValue(o);s!==null&&n.set(i,s)}}this._bodyContent=n}else this._bodyContent=t}formDataValue(t){return t==null?null:t instanceof Blob?t:typeof t=="object"?new Blob([JSON.stringify(t)],{type:"application/json"}):String(t)}build(t){t=t||{};let e=this.operationPath;for(let s of this._path.values())e=s.append(e);let n=this.rootUrl+e,i=new De({encoder:ot});for(let s of this._query.values())i=s.append(i);let o=new W;t.accept&&(o=o.append("Accept",t.accept));for(let s of this._header.values())o=s.append(o);return this._bodyContentType&&!(this._bodyContent instanceof FormData)&&(o=o.set("Content-Type",this._bodyContentType)),new Ne(this.method.toUpperCase(),n,this._bodyContent,{params:i,headers:o,responseType:t.responseType,reportProgress:t.reportProgress,context:t.context})}};function Z(r,t,e,n){let i=new M(t,Z.PATH,"post");return e&&i.body(e.body,"application/json"),r.request(i.build({responseType:"json",accept:"application/json",context:n})).pipe(P(o=>o instanceof D),C(o=>o))}Z.PATH="/auth/authenticate";function J(r,t,e,n){let i=new M(t,J.PATH,"get");return e&&i.query("token",e.token,{}),r.request(i.build({responseType:"text",accept:"*/*",context:n})).pipe(P(o=>o instanceof D),C(o=>o.clone({body:void 0})))}J.PATH="/auth/activate-account";function X(r,t,e,n){let i=new M(t,X.PATH,"post");return e&&i.body(e.body,"application/json"),r.request(i.build({responseType:"json",accept:"application/json",context:n})).pipe(P(o=>o instanceof D),C(o=>o))}X.PATH="/auth/register";var I=class r extends Ge{constructor(t,e){super(t,e)}static RegisterPath="/auth/register";register$Response(t,e){return X(this.http,this.rootUrl,t,e)}register(t,e){return this.register$Response(t,e).pipe(C(n=>n.body))}static AuthenticatePath="/auth/authenticate";authenticate$Response(t,e){return Z(this.http,this.rootUrl,t,e)}authenticate(t,e){return this.authenticate$Response(t,e).pipe(C(n=>n.body))}static ConfirmPath="/auth/activate-account";confirm$Response(t,e){return J(this.http,this.rootUrl,t,e)}confirm(t,e){return this.confirm$Response(t,e).pipe(C(n=>n.body))}static \u0275fac=function(e){return new(e||r)(B(Ke),B(K))};static \u0275prov=k({token:r,factory:r.\u0275fac,providedIn:"root"})};function at(r,t){if(r&1&&(a(0,"p"),c(1),l()),r&2){let e=t.$implicit;p(),L(e)}}function lt(r,t){if(r&1&&(a(0,"div",12),y(1,at,2,1,"p",13),l()),r&2){let e=d();p(),f("ngForOf",e.errorMsg)}}var ee=class r{constructor(t,e,n,i){this.router=t;this.authenticationService=e;this.tokenService=n;this.authService=i}authRequest={email:"",password:""};errorMsg=[];login(){this.errorMsg=[],this.authenticationService.authenticate({body:this.authRequest}).subscribe({next:t=>{this.tokenService.setToken(t.token);let e=this.tokenService.getRoles();e.includes("ADMIN")?this.router.navigate(["cafe-admin"]):e.includes("EMPLOYEE")?this.router.navigate(["cafe-employee"]):e.includes("CLIENT")?this.router.navigate(["cafe-client"]):(console.warn("Unknown role(s) for user:",e),this.router.navigate(["login"]))},error:t=>{t.error?.validationErrors?this.errorMsg=t.error.validationErrors:t.error?.errorMsg?this.errorMsg.push(t.error.errorMsg):this.errorMsg.push("Login failed. Please try again.")}})}register(){this.router.navigate(["register"])}static \u0275fac=function(e){return new(e||r)(m(S),m(I),m(N),m(Ye))};static \u0275cmp=_({type:r,selectors:[["app-login"]],standalone:!1,decls:21,vars:3,consts:[[1,"container-fluid","card","login-container"],[1,"text-center"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"mb-3"],["for","login",1,"form-label"],["type","email","id","login","placeholder","name@example.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","mb-3"],["type","button",1,"btn",2,"background-color","#8a6b52","color","white","border-color","#8a6b52",3,"click"],[1,"fas","fa-sign-in-alt"],["type","button",1,"custom-register-btn",3,"click"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h3",1),c(2,"Login"),l(),H(3,"hr"),y(4,lt,2,1,"div",2),a(5,"div",3)(6,"label",4),c(7,"Email address"),l(),a(8,"input",5),w("ngModelChange",function(o){return A(n.authRequest.email,o)||(n.authRequest.email=o),o}),l()(),a(9,"div",3)(10,"label",6),c(11,"Password"),l(),a(12,"input",7),w("ngModelChange",function(o){return A(n.authRequest.password,o)||(n.authRequest.password=o),o}),l()(),a(13,"div",8)(14,"button",9),h("click",function(){return n.login()}),a(15,"em",10),c(16,"\xA0Sign in"),l()(),a(17,"div"),c(18," Don't have an account?\xA0 "),a(19,"button",11),h("click",function(){return n.register()}),c(20," Register "),l()()()()),e&2&&(p(4),f("ngIf",n.errorMsg.length),p(4),R("ngModel",n.authRequest.email),p(4),R("ngModel",n.authRequest.password))},dependencies:[V,j,G,Y,Q],styles:[".btn-primary[_ngcontent-%COMP%]{background-color:#8a6b52;border-color:#8a6b52}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#775844;border-color:#775844}.custom-login-btn[_ngcontent-%COMP%]{background-color:#8a6b52;color:#fff;border:none}.custom-register-btn[_ngcontent-%COMP%]{color:#8a6b52;font-weight:500;text-decoration:underline;background:none;border:none;padding:0}.login-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#959f84;outline:none;box-shadow:0 0 0 .2rem #959f8440}"]})};function ct(r,t){if(r&1&&(a(0,"p"),c(1),l()),r&2){let e=t.$implicit;p(),L(e)}}function pt(r,t){if(r&1&&(a(0,"div",16),y(1,ct,2,1,"p",17),l()),r&2){let e=d();p(),f("ngForOf",e.errorMsg)}}var te=class r{constructor(t,e){this.router=t;this.authService=e}registerRequest={email:"",first_name:"",last_name:"",password:""};errorMsg=[];login(){this.router.navigate(["login"])}register(){this.errorMsg=[],this.authService.register({body:this.registerRequest}).subscribe({next:()=>{this.router.navigate(["activate-account"])},error:t=>{this.errorMsg=t.error.validationErrors}})}static \u0275fac=function(e){return new(e||r)(m(S),m(I))};static \u0275cmp=_({type:r,selectors:[["app-register"]],standalone:!1,decls:29,vars:5,consts:[[1,"container-fluid","card","login-container"],[1,"text-center"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"mb-3"],["for","first_name",1,"form-label"],["type","text","id","first_name","placeholder","John",1,"form-control",3,"ngModelChange","ngModel"],["for","last_name",1,"form-label"],["type","text","id","last_name","placeholder","Doe",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","placeholder","name@example.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","mb-3"],["type","button",1,"btn",2,"background-color","#8a6b52","color","white","border-color","#8a6b52",3,"click"],[1,"fas","fa-sign-in-alt"],["type","button",1,"custom-register-btn",3,"click"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h3",1),c(2,"Create an account"),l(),H(3,"hr"),y(4,pt,2,1,"div",2),a(5,"div",3)(6,"label",4),c(7,"Firstname"),l(),a(8,"input",5),w("ngModelChange",function(o){return A(n.registerRequest.first_name,o)||(n.registerRequest.first_name=o),o}),l()(),a(9,"div",3)(10,"label",6),c(11,"Lastname"),l(),a(12,"input",7),w("ngModelChange",function(o){return A(n.registerRequest.last_name,o)||(n.registerRequest.last_name=o),o}),l()(),a(13,"div",3)(14,"label",8),c(15,"Email address"),l(),a(16,"input",9),w("ngModelChange",function(o){return A(n.registerRequest.email,o)||(n.registerRequest.email=o),o}),l()(),a(17,"div",3)(18,"label",10),c(19,"Password"),l(),a(20,"input",11),w("ngModelChange",function(o){return A(n.registerRequest.password,o)||(n.registerRequest.password=o),o}),l()(),a(21,"div",12)(22,"button",13),h("click",function(){return n.register()}),a(23,"em",14),c(24,"\xA0Create an accountn"),l()(),a(25,"div"),c(26," Already have an account?\xA0 "),a(27,"button",15),h("click",function(){return n.login()}),c(28," Login "),l()()()()),e&2&&(p(4),f("ngIf",n.errorMsg.length),p(4),R("ngModel",n.registerRequest.first_name),p(4),R("ngModel",n.registerRequest.last_name),p(4),R("ngModel",n.registerRequest.email),p(4),R("ngModel",n.registerRequest.password))},dependencies:[V,j,G,Y,Q],styles:[".btn-primary[_ngcontent-%COMP%]{background-color:#8a6b52;border-color:#8a6b52}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#775844;border-color:#775844}.custom-login-btn[_ngcontent-%COMP%]{background-color:#8a6b52;color:#fff;border:none}.custom-register-btn[_ngcontent-%COMP%]{color:#8a6b52;font-weight:500;text-decoration:underline;background:none;border:none;padding:0}.login-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#959f84;outline:none;box-shadow:0 0 0 .2rem #959f8440}"]})};var dt=["input"];function ut(r,t){if(r&1){let e=E();a(0,"span")(1,"input",2,0),h("click",function(i){b(e);let o=d();return v(o.onClick(i))})("paste",function(i){let o=b(e).index,s=d();return v(s.onPaste(i,o))})("input",function(i){let o=b(e).index,s=d();return v(s.onInput(i,o))})("keydown",function(i){let o=b(e).index,s=d();return v(s.onKeydown(i,o))}),l()()}if(r&2){let e=d();Te("code-hidden",e.isCodeHidden),p(),f("type",e.inputType)("disabled",e.disabled),Fe("inputmode",e.inputMode)("autocapitalize",e.autocapitalize)}}var et=new U("CodeInputComponentConfig"),Xe={codeLength:4,inputType:"tel",inputMode:"numeric",initialFocusField:void 0,isCharsCode:!1,isCodeHidden:!1,isPrevFocusableAfterClearing:!0,isFocusingOnLastByClickIfFilled:!1,code:void 0,disabled:!1,autocapitalize:void 0},q=function(r){return r[r.ready=0]="ready",r[r.reset=1]="reset",r}(q||{}),tt=(()=>{class r{constructor(e){if(this.isNonDigitsCode=!1,this.codeChanged=new le,this.codeCompleted=new le,this.placeholders=[],this.inputs=[],this.inputsStates=[],this.state={isFocusingAfterAppearingCompleted:!1,isInitialFocusFieldEnabled:!1},Object.assign(this,Xe),!!e)for(let n in e)e.hasOwnProperty(n)&&Xe.hasOwnProperty(n)&&(this[n]=e[n])}ngOnInit(){this.state.isInitialFocusFieldEnabled=!this.isEmpty(this.initialFocusField),this.onCodeLengthChanges()}ngAfterViewInit(){this.inputsListSubscription=this.inputsList.changes.subscribe(this.onInputsListChanges.bind(this)),this.onInputsListChanges(this.inputsList)}ngAfterViewChecked(){this.focusOnInputAfterAppearing()}ngOnChanges(e){e.code&&this.onInputCodeChanges(),e.codeLength&&this.onCodeLengthChanges()}ngOnDestroy(){this.inputsListSubscription&&this.inputsListSubscription.unsubscribe()}reset(e=!1){this.onInputCodeChanges(),this.state.isInitialFocusFieldEnabled&&this.focusOnField(this.initialFocusField),e&&this.emitChanges()}focusOnField(e){if(e>=this._codeLength)throw new Error("The index of the focusing input box should be less than the codeLength.");this.inputs[e].focus()}onClick(e){if(!this.isFocusingOnLastByClickIfFilled)return;let n=e.target,i=this.inputs[this._codeLength-1];n===i||!(this.getCurrentFilledCode().length>=this._codeLength)||setTimeout(()=>i.focus())}onInput(e,n){let i=e.target,o=e.data||i.value;if(this.isEmpty(o))return;if(!this.canInputValue(o)){e.preventDefault(),e.stopPropagation(),this.setInputValue(i,null),this.setStateForInput(i,q.reset);return}let s=o.toString().trim().split("");for(let g=0;g<s.length;g++){let z=g+n;if(z>this._codeLength-1)break;this.setInputValue(this.inputs[z],s[g])}this.emitChanges();let u=n+s.length;if(u>this._codeLength-1){i.blur();return}this.inputs[u].focus()}onPaste(e,n){e.preventDefault(),e.stopPropagation();let i=e.clipboardData?e.clipboardData.getData("text").trim():void 0;if(this.isEmpty(i))return;let o=i.split(""),s=0;for(let u=n;u<this.inputs.length&&s!==o.length;u++){let g=this.inputs[u],z=o[s];if(!this.canInputValue(z)){this.setInputValue(g,null),this.setStateForInput(g,q.reset);return}this.setInputValue(g,z.toString()),s++}this.inputs[n].blur(),this.emitChanges()}onKeydown(e,n){return _e(this,null,function*(){let i=e.target,o=this.isEmpty(i.value),s=n-1,u=yield this.isBackspaceKey(e),g=this.isDeleteKey(e);!u&&!g||(e.preventDefault(),this.setInputValue(i,null),o||this.emitChanges(),!(s<0||g)&&(o||this.isPrevFocusableAfterClearing)&&this.inputs[s].focus())})}onInputCodeChanges(){if(!this.inputs.length)return;if(this.isEmpty(this.code)){this.inputs.forEach(i=>{this.setInputValue(i,null)});return}let e=this.code.toString().trim().split(""),n=!0;for(let i of e)if(!this.canInputValue(i)){n=!1;break}this.inputs.forEach((i,o)=>{let s=n?e[o]:null;this.setInputValue(i,s)})}onCodeLengthChanges(){if(this.codeLength)if(this._codeLength=this.codeLength,this._codeLength>this.placeholders.length){let e=Array(this._codeLength-this.placeholders.length).fill(1);this.placeholders.splice(this.placeholders.length-1,0,...e)}else this._codeLength<this.placeholders.length&&this.placeholders.splice(this._codeLength)}onInputsListChanges(e){if(e.length>this.inputs.length){let n=e.filter((o,s)=>s>this.inputs.length-1);this.inputs.splice(this.inputs.length,0,...n.map(o=>o.nativeElement));let i=Array(n.length).fill(q.ready);this.inputsStates.splice(this.inputsStates.length,0,...i)}else e.length<this.inputs.length&&(this.inputs.splice(e.length),this.inputsStates.splice(e.length));this.onInputCodeChanges()}focusOnInputAfterAppearing(){this.state.isInitialFocusFieldEnabled&&(this.state.isFocusingAfterAppearingCompleted||(this.focusOnField(this.initialFocusField),this.state.isFocusingAfterAppearingCompleted=document.activeElement===this.inputs[this.initialFocusField]))}emitChanges(){setTimeout(()=>this.emitCode(),50)}emitCode(){let e=this.getCurrentFilledCode();this.codeChanged.emit(e),e.length>=this._codeLength&&this.codeCompleted.emit(e)}getCurrentFilledCode(){let e="";for(let n of this.inputs)this.isEmpty(n.value)||(e+=n.value);return e}isBackspaceKey(e){return e.key&&e.key.toLowerCase()==="backspace"||e.keyCode&&e.keyCode===8?Promise.resolve(!0):!e.keyCode||e.keyCode!==229?Promise.resolve(!1):new Promise(i=>{setTimeout(()=>{let o=e.target,s=this.getStateForInput(o)===q.reset;s&&this.setStateForInput(o,q.ready),i(o.selectionStart===0&&!s)})})}isDeleteKey(e){return e.key&&e.key.toLowerCase()==="delete"||e.keyCode&&e.keyCode===46}setInputValue(e,n){let i=this.isEmpty(n),o="has-value",s="empty";i?(e.value="",e.classList.remove(o),e.parentElement.classList.add(s)):(e.value=n,e.classList.add(o),e.parentElement.classList.remove(s))}canInputValue(e){return this.isEmpty(e)?!1:/^[0-9]+$/.test(e.toString())||this.isCharsCode||this.isNonDigitsCode}setStateForInput(e,n){let i=this.inputs.indexOf(e);i<0||(this.inputsStates[i]=n)}getStateForInput(e){let n=this.inputs.indexOf(e);return this.inputsStates[n]}isEmpty(e){return e==null||!e.toString().length}static{this.\u0275fac=function(n){return new(n||r)(m(et,8))}}static{this.\u0275cmp=_({type:r,selectors:[["code-input"]],viewQuery:function(n,i){if(n&1&&He(dt,5),n&2){let o;Ee(o=Le())&&(i.inputsList=o)}},inputs:{codeLength:"codeLength",inputType:"inputType",inputMode:"inputMode",initialFocusField:"initialFocusField",isNonDigitsCode:"isNonDigitsCode",isCharsCode:"isCharsCode",isCodeHidden:"isCodeHidden",isPrevFocusableAfterClearing:"isPrevFocusableAfterClearing",isFocusingOnLastByClickIfFilled:"isFocusingOnLastByClickIfFilled",code:"code",disabled:"disabled",autocapitalize:"autocapitalize"},outputs:{codeChanged:"codeChanged",codeCompleted:"codeCompleted"},standalone:!1,features:[we],decls:1,vars:1,consts:[["input",""],[3,"code-hidden",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"click","paste","input","keydown","type","disabled"]],template:function(n,i){n&1&&y(0,ut,3,6,"span",1),n&2&&f("ngForOf",i.placeholders)},dependencies:[V],styles:["[_nghost-%COMP%]{--text-security-type: disc;--item-spacing: 4px;--item-height: 4.375em;--item-border: 1px solid #dddddd;--item-border-bottom: 1px solid #dddddd;--item-border-has-value: 1px solid #dddddd;--item-border-bottom-has-value: 1px solid #dddddd;--item-border-focused: 1px solid #dddddd;--item-border-bottom-focused: 1px solid #dddddd;--item-shadow-focused: 0px 1px 5px rgba(221, 221, 221, 1);--item-border-radius: 5px;--item-background: transparent;--item-font-weight: 300;--color: #171516;display:flex;transform:translateZ(0);font-size:inherit;color:var(--color)}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{display:block;flex:1;padding-right:var(--item-spacing)}[_nghost-%COMP%]   span[_ngcontent-%COMP%]:first-child{padding-left:var(--item-spacing)}[_nghost-%COMP%]   span.code-hidden[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-security:var(--text-security-type);-webkit-text-security:var(--text-security-type);-moz-text-security:var(--text-security-type)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:var(--item-height);color:inherit;background:var(--item-background);text-align:center;font-size:inherit;font-weight:var(--item-font-weight);border:var(--item-border);border-bottom:var(--item-border-bottom);border-radius:var(--item-border-radius);-webkit-appearance:none;transform:translateZ(0);-webkit-transform:translate3d(0,0,0);outline:none}[_nghost-%COMP%]   input.has-value[_ngcontent-%COMP%]{border:var(--item-border-has-value);border-bottom:var(--item-border-bottom-has-value)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus{border:var(--item-border-focused);border-bottom:var(--item-border-bottom-focused);box-shadow:var(--item-shadow-focused)}"]})}}return r})(),nt=(()=>{class r{static forRoot(e){return{ngModule:r,providers:[{provide:et,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=T({type:r})}static{this.\u0275inj=O({imports:[je]})}}return r})();function ft(r,t){if(r&1){let e=E();a(0,"div",5)(1,"h2"),c(2,"Activation Successful!"),l(),a(3,"p"),c(4,"Your account has been successfully activated."),l(),a(5,"button",6),h("click",function(){b(e);let i=d(2);return v(i.redirectToLogin())}),c(6,"Go to Login"),l()()}}function ht(r,t){if(r&1){let e=E();a(0,"div",7)(1,"h2"),c(2,"Activation Failed!"),l(),a(3,"p"),c(4),l(),a(5,"button",6),h("click",function(){b(e);let i=d(2);return v(i.submitted=!1)}),c(6,"Try again"),l()()}if(r&2){let e=d(2);p(4),L(e.message)}}function gt(r,t){if(r&1&&(a(0,"div",3),y(1,ft,7,0,"div",4)(2,ht,7,1,"ng-template",null,1,pe),l()),r&2){let e=ce(3),n=d();p(),f("ngIf",n.isOkay)("ngIfElse",e)}}function yt(r,t){if(r&1){let e=E();a(0,"div",3)(1,"div",8)(2,"h2"),c(3,"Type your activation code"),l(),a(4,"code-input",9),h("codeCompleted",function(i){b(e);let o=d();return v(o.onCodeCompleted(i))}),l(),a(5,"button",10),h("click",function(){b(e);let i=d();return v(i.redirectToLogin())}),a(6,"em",11),c(7,"\xA0Go to Login"),l()()()()}r&2&&(p(4),f("isCodeHidden",!1)("codeLength",6)("code","number"))}var ne=class r{constructor(t,e){this.router=t;this.authService=e}message="";isOkay=!0;submitted=!1;confirmAccount(t){this.authService.confirm({token:t}).subscribe({next:()=>{this.message=`Your account has been successfully activated.
Now you can proceed to login`,this.submitted=!0,this.isOkay=!0},error:()=>{this.message="Token has been expired or invalid",this.submitted=!0,this.isOkay=!1}})}redirectToLogin(){this.router.navigate(["login"])}onCodeCompleted(t){this.confirmAccount(t)}skipUntil=xe;static \u0275fac=function(e){return new(e||r)(m(S),m(I))};static \u0275cmp=_({type:r,selectors:[["app-activate-account"]],standalone:!1,decls:3,vars:2,consts:[["codeForm",""],["activationError",""],["class","container",4,"ngIf","ngIfElse"],[1,"container"],["class","activation-message",4,"ngIf","ngIfElse"],[1,"activation-message"],[1,"btn","btn-primary",3,"click"],[1,"activation-error"],[1,"text-center",2,"width","400px"],[3,"codeCompleted","isCodeHidden","codeLength","code"],["type","button",1,"btn","btn-primary","mt-3",2,"background-color","#8a6b52","color","white","border-color","#8a6b52",3,"click"],[1,"fas","fa-sign-in-alt"]],template:function(e,n){if(e&1&&y(0,gt,4,2,"div",2)(1,yt,8,3,"ng-template",null,0,pe),e&2){let i=ce(2);f("ngIf",n.submitted)("ngIfElse",i)}},dependencies:[j,tt],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.activation-message[_ngcontent-%COMP%], .activation-error[_ngcontent-%COMP%]{text-align:center}.activation-error[_ngcontent-%COMP%]{color:red}"]})};var ie=()=>{let r=F(N),t=F(S);return r.isValid()?!0:(t.navigate(["login"]),!1)};var Ct=[{path:"login",component:ee},{path:"register",component:te},{path:"activate-account",component:ne},{path:"cafe-client",loadChildren:()=>import("./chunk-4HRM2LWW.js").then(r=>r.CafeClientModule),canActivate:[ie]},{path:"cafe-admin",loadChildren:()=>import("./chunk-JTZWX4FF.js").then(r=>r.CafeAdminModule),canActivate:[ie]},{path:"cafe-employee",loadChildren:()=>import("./chunk-3WU4SF3A.js").then(r=>r.CafeEmployeeModule),canActivate:[ie]}],oe=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=T({type:r});static \u0275inj=O({imports:[de.forRoot(Ct),de]})};var re=class r{title="frontend";static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(e,n){e&1&&H(0,"router-outlet")},dependencies:[We],encapsulation:2})};var se=class r{constructor(t){this.tokenService=t}intercept(t,e){let n=this.tokenService.getToken();if(n){let i=t.clone({headers:new W({Authorization:`Bearer ${n}`})});return e.handle(i)}return e.handle(t)}static \u0275fac=function(e){return new(e||r)(B(N))};static \u0275prov=k({token:r,factory:r.\u0275fac})};var bt="@",vt=(()=>{class r{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=F(Se,{optional:!0});loadingSchedulerFn=F(_t,{optional:!0});_engine;constructor(e,n,i,o,s){this.doc=e,this.delegate=n,this.zone=i,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-ADO3CMZJ.js").then(i=>i),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(i=>{throw new Re(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,n){let i=this.delegate.createRenderer(e,n);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let o=new ve(i);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let u=s.createRenderer(e,n);o.use(u),this.scheduler?.notify(11)}).catch(s=>{o.use(i)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(n){ke()};static \u0275prov=k({token:r,factory:r.\u0275fac})}return r})(),ve=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,i){this.delegate.insertBefore(t,e,n,i)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(t,e,n)),this.delegate.listen(t,e,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(bt)}},_t=new U("");function it(r="animations"){return Pe("NgAsyncAnimations"),Ae([{provide:Oe,useFactory:(t,e,n)=>new vt(t,e,n,r),deps:[Ve,Be,Me]},{provide:Ie,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ae=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=T({type:r,bootstrap:[re]});static \u0275inj=O({providers:[K,{provide:qe,useClass:se,multi:!0},it()],imports:[Ue,oe,Ze,ze,Qe,nt,Je]})};$e().bootstrapModule(ae,{ngZoneEventCoalescing:!0}).catch(r=>console.error(r));
