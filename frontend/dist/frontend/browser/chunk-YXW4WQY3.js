import{b as c,e as f,l as N,m as h,o as T,p as b,q as v,r as M,s as C}from"./chunk-AXJIHI4T.js";import{$b as k,Ia as x,Ja as y,Ta as S,Ua as B,X as u,Y as I,Ya as E,Zb as $,aa as m,ba as l,hb as j,ja as U,jb as o,ka as O,kb as s,lb as d,mb as w,ob as _,pb as g,ub as p,vb as A}from"./chunk-O3LRXVWC.js";var H=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=B({type:n});static \u0275inj=I({imports:[k,T]})};var ne=n=>{let t=l(C),e=l(M),r=l(h);if(!t.isAuthenticated())return r.navigate(["login"]),!1;let i=n.data?.role,a=e.getRoles();return i&&!t.hasRole(i)?(z(a,r),!1):!0};function z(n,t){n.includes("ADMIN")?t.navigate(["cafe-admin"]):n.includes("EMPLOYEE")?t.navigate(["cafe-employee"]):n.includes("CLIENT")?t.navigate(["cafe-client"]):t.navigate(["login"])}function Y(n,t){if(n&1){let e=w();o(0,"div",8)(1,"button",9),_("click",function(){U(e);let i=g();return O(i.handleButton1())}),p(2,"Open Menu"),s(),o(3,"button",9),_("click",function(){U(e);let i=g();return O(i.handleButton2())}),p(4),s()()}if(n&2){let e=g();x(4),A(e.button2Label)}}var L="body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif}.menu-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{text-align:center}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .menu-divider[_ngcontent-%COMP%]{margin:10px auto;width:50px;height:3px;background-color:#8a6b52}.menu-page[_ngcontent-%COMP%]   .menu-image[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.menu-page[_ngcontent-%COMP%]   .menu-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:10px}",F=class n{constructor(t,e){this.router=t;this.authService=e}firstButton;secondButton;handleButton1(){this.router.navigate([`${this.firstButton}`])}handleButton2(){this.router.navigate([`${this.secondButton}`])}get button2Label(){return this.authService.hasRole("EMPLOYEE")?"Orders":(this.authService.hasRole("CLIENT"),"Create an order")}static \u0275fac=function(e){return new(e||n)(y(h),y(C))};static \u0275cmp=S({type:n,selectors:[["app-main"]],inputs:{firstButton:"firstButton",secondButton:"secondButton"},standalone:!1,decls:17,vars:1,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"menu-page"],[1,"menu-header"],[1,"menu-divider"],["class","d-flex justify-content-center gap-2 p-2",4,"ngIf"],[1,"pe-2","ps-2"],[1,"d-flex","justify-content-center","gap-2","p-2"],[1,"btn","btn-secondary",2,"background-color","#8a6b52",3,"click"]],template:function(e,r){e&1&&(o(0,"html",0)(1,"head"),d(2,"meta",1)(3,"meta",2),o(4,"title"),p(5,"Menu"),s()(),o(6,"body")(7,"div",3)(8,"header",4)(9,"h1"),p(10,"About Us"),s(),d(11,"div",5),s(),o(12,"p"),p(13," Welcome to our cafe! We serve freshly brewed coffee, delicious pastries, and a warm atmosphere. Our goal is to provide you with the best dining experience. "),s(),E(14,Y,5,1,"div",6),o(15,"div",7),d(16,"router-outlet"),s()()()()),e&2&&(x(14),j("ngIf",r.authService.hasRole("CLIENT")||r.authService.hasRole("EMPLOYEE")))},dependencies:[$,N],styles:[L,L]})};var D=class n extends v{baseUrl=this.rootUrl+"/api/menuitems";constructor(t,e){super(t,e)}getAllMenuItems(t=0,e=2,r=["name"],i=["asc"]){let a=new c().set("page",t).set("size",e).set("sortBy",r.join(",")).set("direction",i.join(","));return this.http.get(this.baseUrl,{params:a})}getMenuItemById(t){return this.http.get(`${this.baseUrl}/${t}`)}getMenuItemPriceById(t){return this.http.get(`${this.baseUrl}/${t}/price`)}getMenuItemsByCategoryName(t,e=0,r=2,i=["name"],a=["asc"]){let R=new c().set("categoryName",t).set("page",e).set("size",r).set("sortBy",i.join(",")).set("direction",a.join(","));return this.http.get(`${this.baseUrl}/filter/category-name`,{params:R})}createMenuItem(t){return this.http.post(this.baseUrl,t)}updateMenuItem(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}deleteMenuItem(t){return this.http.delete(`${this.baseUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(m(b),m(f))};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};var V=class n extends v{constructor(e,r,i){super(e,r);this.tokenService=i}baseUrl=this.rootUrl+"/api/user";getAllUsers(e=0,r=20,i=["id"],a=["asc"]){let R=new c().set("page",e).set("size",r).set("sortBy",i.join(",")).set("direction",a.join(","));return this.http.get(this.baseUrl,{params:R})}getUserById(e){return this.http.get(`${this.baseUrl}/${e}`)}getUserByEmail(e){return this.http.post(`${this.baseUrl}/email`,{email:e})}getCurrentUser(){let e=this.tokenService.getEmail();return e||console.error("No email found in token"),this.getUserByEmail(e)}createUser(e){return this.http.post(this.baseUrl,e)}updateUser(e,r){return this.http.put(`${this.baseUrl}/${e}`,r)}deleteUser(e){return this.http.delete(`${this.baseUrl}/${e}`)}static \u0275fac=function(r){return new(r||n)(m(b),m(f),m(M))};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};export{F as a,D as b,V as c,ne as d,H as e};
