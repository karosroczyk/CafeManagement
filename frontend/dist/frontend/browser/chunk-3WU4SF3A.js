import{a as ie,b as re,c as ae}from"./chunk-6LBLJJ7L.js";import{a as oe,b as x,c as T,d as I,e as me}from"./chunk-YXW4WQY3.js";import{C as te,D as ne,n as Q,o as W,r as X,s as b,t as Z,u as $,v as k,w as N,x as ee,y as A}from"./chunk-AXJIHI4T.js";import{$b as J,Ab as v,Db as G,Fa as V,Ia as m,Ja as p,Ta as f,Ua as w,Y as E,Ya as g,Yb as R,Zb as y,hb as d,ja as H,jb as n,ka as q,kb as o,lb as c,mb as K,ob as O,pb as u,tb as Y,ub as a,vb as _,wb as M,yb as h,zb as P}from"./chunk-O3LRXVWC.js";var C=class r{constructor(t,e){this.menuService=t;this.authService=e}pageResponseMenuResponse={};ngOnInit(){let t=document.querySelectorAll(".nav-link");t.forEach(e=>{window.location.href.endsWith(e.getAttribute("href")||"")&&e.classList.add("active"),e.addEventListener("click",()=>{t.forEach(i=>i.classList.remove("active")),e.classList.add("active")})}),this.getAllMenuItems()}logout(){this.authService.logout()}getAllMenuItems(){this.menuService.getAllMenuItems().subscribe({next:t=>{this.pageResponseMenuResponse=t}})}static \u0275fac=function(e){return new(e||r)(p(x),p(b))};static \u0275cmp=f({type:r,selectors:[["app-menu"]],standalone:!1,decls:27,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary","custom-navbar"],[1,"container-fluid"],["href","javascript:void(0)",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/cafe-employee",1,"nav-link"],[1,"fas","fa-home-alt"],["routerLink","/cafe-employee/menucafe",1,"nav-link"],[1,"fas","fa-newspaper"],["routerLink","/cafe-employee/orders",1,"nav-link"],[1,"fas","fa-shopping-cart"],["routerLink","/cafe-employee/profile",1,"nav-link"],[1,"fas","fa-user"],[1,"d-flex","gap-2","align-items-center"],["type","submit",1,"btn","btn-link",3,"click"],[1,"fas","fa-door-open",2,"color","black"]],template:function(e,i){e&1&&(n(0,"nav",0)(1,"div",1)(2,"a",2),a(3,"Cafe"),o(),n(4,"button",3),c(5,"span",4),o(),n(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),c(10,"i",9),a(11,"\xA0Home "),o()(),n(12,"li",7)(13,"a",10),c(14,"i",11),a(15,"\xA0Cafe Menu "),o()(),n(16,"li",7)(17,"a",12),c(18,"i",13),a(19,"\xA0Orders "),o()(),n(20,"li",7)(21,"a",14),c(22,"i",15),a(23,"\xA0My profile "),o()()(),n(24,"form",16)(25,"button",17),O("click",function(){return i.logout()}),c(26,"i",18),o()()()()())},dependencies:[Q,A,k,N],styles:["li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#d9baa0;border-radius:5px;text-decoration:underline}li[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%]{color:#959f84;border-radius:5px}li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .custom-navbar[_ngcontent-%COMP%]{background-color:#8a6b52}"]})};var le="body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif}.menu-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{text-align:center}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .menu-divider[_ngcontent-%COMP%]{margin:10px auto;width:50px;height:3px;background-color:#8a6b52}.menu-page[_ngcontent-%COMP%]   .menu-image[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.menu-page[_ngcontent-%COMP%]   .menu-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:10px}",U=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=f({type:r,selectors:[["app-cafe-admin-main"]],standalone:!1,decls:9,vars:2,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[3,"firstButton","secondButton"]],template:function(e,i){e&1&&(n(0,"html",0)(1,"head"),c(2,"meta",1)(3,"meta",2),n(4,"title"),a(5,"Menu"),o()(),n(6,"body"),c(7,"app-menu")(8,"app-main",3),o()()),e&2&&(m(8),d("firstButton","cafe-employee/menucafe")("secondButton","cafe-employee/orders"))},dependencies:[oe,C],styles:[le,le]})};function Ce(r,t){r&1&&(n(0,"button"),a(1," Add New Menu Item "),o())}function _e(r,t){if(r&1&&(n(0,"li")(1,"a",10),a(2),o()()),r&2){let e=t.$implicit;m(),d("href","/cafe-client/menucafe#category-"+e.id,V),m(),_(e.name)}}function Oe(r,t){if(r&1&&(n(0,"div",13)(1,"h3"),a(2),c(3,"span"),o(),n(4,"p"),a(5),o(),n(6,"span",14),a(7),o()()),r&2){let e=t.$implicit;m(2),M("",e.name," "),m(3),_(e.description),m(2),M("PLN ",e.price,"")}}function he(r,t){if(r&1&&(n(0,"section",11)(1,"header",4)(2,"h2"),a(3),o(),c(4,"div",5),o(),g(5,Oe,8,3,"div",12),o()),r&2){let e=t.$implicit,i=u();d("id","category-"+e.id),m(3),_(e.name),m(2),d("ngForOf",i.menuItemsByCategory[e.name]==null?null:i.menuItemsByCategory[e.name].data)}}var pe="body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif}.menu-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{text-align:center}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .menu-divider[_ngcontent-%COMP%]{margin:10px auto;width:50px;height:3px;background-color:#8a6b52}.menu-page[_ngcontent-%COMP%]   .menu-nav[_ngcontent-%COMP%]{margin:20px 0}.menu-page[_ngcontent-%COMP%]   .menu-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:center;gap:20px;padding:0}.menu-page[_ngcontent-%COMP%]   .menu-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0}.menu-page[_ngcontent-%COMP%]   .menu-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-size:1.1rem;font-weight:700;transition:color .3s ease}.menu-page[_ngcontent-%COMP%]   .menu-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#8a6b52}.menu-page[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]{margin:20px 0}.menu-page[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{margin-bottom:20px;border-bottom:1px dotted #000000;padding-bottom:10px}.menu-page[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.menu-page[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;font-weight:400}.menu-page[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:1rem}.menu-page[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.25rem;color:#8a6b52;font-weight:700}.menu-page[_ngcontent-%COMP%]   .menu-image[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.menu-page[_ngcontent-%COMP%]   .menu-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:10px}",D=class r{constructor(t,e,i){this.menuService=t;this.categoryService=e;this.authService=i}pageResponseMenuResponse={};pageResponseCategoryResponse={};menuItemsByCategory={};ngOnInit(){this.getAllCategories()}getAllCategories(){this.categoryService.getAllCategories().subscribe({next:t=>{t&&t.data?(this.pageResponseCategoryResponse=t,t.data.forEach(e=>{this.getMenuItemsByCategoryName(e.name),console.log(t.data)})):console.error("Category response data is undefined or empty.")},error:t=>{console.error("Error fetching categories:",t)}})}getMenuItemsByCategoryName(t){this.menuService.getMenuItemsByCategoryName(t).subscribe({next:e=>{this.menuItemsByCategory[t]=e;let i=this.menuItemsByCategory[t].data.map(s=>s.item_id),l=this.menuItemsByCategory[t].data.map(s=>s.quantity||0)},error:e=>{console.error("Error fetching menu items:",e)}})}static \u0275fac=function(e){return new(e||r)(p(x),p(ie),p(b))};static \u0275cmp=f({type:r,selectors:[["app-menu-cafe"]],standalone:!1,decls:18,vars:3,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"menu-page"],[1,"menu-header"],[1,"menu-divider"],[4,"ngIf"],[1,"menu-nav"],[4,"ngFor","ngForOf"],["class","menu-section",3,"id",4,"ngFor","ngForOf"],[3,"href"],[1,"menu-section",3,"id"],["class","menu-item",4,"ngFor","ngForOf"],[1,"menu-item"],[1,"price"]],template:function(e,i){e&1&&(n(0,"html",0)(1,"head"),c(2,"meta",1)(3,"meta",2),n(4,"title"),a(5,"Menu"),o()(),n(6,"body"),c(7,"app-menu"),n(8,"div",3)(9,"header",4)(10,"h1"),a(11,"Menu"),o(),c(12,"div",5),o(),g(13,Ce,2,0,"button",6),n(14,"nav",7)(15,"ul"),g(16,_e,3,2,"li",8),o()(),g(17,he,6,3,"section",9),o()()()),e&2&&(m(13),d("ngIf",i.authService.hasRole("ADMIN")),m(3),d("ngForOf",i.pageResponseCategoryResponse==null?null:i.pageResponseCategoryResponse.data),m(),d("ngForOf",i.pageResponseCategoryResponse.data))},dependencies:[R,y,C],styles:[pe,pe]})};function ve(r,t){if(r&1&&(n(0,"p")(1,"strong"),a(2),o(),a(3),o()),r&2){let e=u().$implicit,i=u(2);m(2),M("",i.menuItemNameMap[e.menuItemId].name,": "),m(),M(" ",e.quantity," ")}}function ye(r,t){r&1&&(n(0,"p"),a(1,"Loading..."),o())}function be(r,t){if(r&1&&(n(0,"li"),g(1,ve,4,2,"p",11)(2,ye,2,0,"ng-template",null,0,G),o()),r&2){let e=t.$implicit,i=Y(3),l=u(2);m(),d("ngIf",l.menuItemNameMap[e.menuItemId])("ngIfElse",i)}}function xe(r,t){if(r&1){let e=K();n(0,"tr")(1,"td"),a(2),o(),n(3,"td"),a(4),o(),n(5,"td"),a(6),o(),n(7,"td"),a(8),o(),n(9,"td"),a(10),o(),n(11,"td")(12,"details")(13,"summary",9),O("click",function(){let l=H(e).$implicit,s=u();return q(s.getOrderMenuItemIdKeyByOrderId(l.id))}),a(14,"View Details"),o(),n(15,"div",10)(16,"p")(17,"strong"),a(18,"Items:"),o()(),n(19,"ul"),g(20,be,4,2,"li",8),o()()()()()}if(r&2){let e=t.$implicit,i=t.index,l=u();m(2),_(i+1),m(2),M("",e.total_price," PLN"),m(2),_(e.status),m(2),_(e.createdAt),m(2),_(e.updatedAt),m(10),d("ngForOf",l.orderMenuItemsMap[e.id])}}var ge="body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif}.menu-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{text-align:center}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700}.menu-page[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .menu-divider[_ngcontent-%COMP%]{margin:10px auto;width:50px;height:3px;background-color:#8a6b52}.order-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;box-shadow:0 4px 10px #0000001a;border-radius:8px;overflow:hidden}.order-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#8a6b52;color:#fff}.order-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px;text-align:left;font-size:1.1rem}.order-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.order-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f4f4f4}.order-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e8e8e8}.order-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;font-size:1rem}.order-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.order-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .status.completed[_ngcontent-%COMP%]{color:green}.order-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .status.pending[_ngcontent-%COMP%]{color:orange}",z=class r{constructor(t,e,i,l){this.menuService=t;this.orderService=e;this.userService=i;this.orderMenuItemService=l}pageResponseInventoryResponse={};pageResponseOrderResponse=[];orderMenuItemsMap={};menuItemNameMap={};ngOnInit(){this.fetchOrders()}fetchOrders(){this.userService.getCurrentUser().subscribe({next:t=>{if(t&&t.id!==void 0){let e=t.id;this.orderService.getOrdersByCustomerId(e).subscribe({next:i=>{this.pageResponseOrderResponse=i}})}else console.error("User not found")},error:t=>{console.error("Error fetching user",t)}})}getOrderMenuItemIdKeyByOrderId(t){this.orderMenuItemService.getOrderMenuItemIdKeyByOrderId(t).subscribe({next:e=>{this.orderMenuItemsMap[t]=e.map(i=>i.orderMenuItemIdKey),this.orderMenuItemsMap[t].forEach(i=>{this.getMenuItemById(i.menuItemId)})}})}getMenuItemById(t){this.menuItemNameMap[t]||this.menuService.getMenuItemById(t).subscribe({next:e=>{this.menuItemNameMap[t]=e}})}static \u0275fac=function(e){return new(e||r)(p(x),p(re),p(T),p(ae))};static \u0275cmp=f({type:r,selectors:[["app-order-history"]],standalone:!1,decls:30,vars:1,consts:[["loading",""],["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"menu-page"],[1,"menu-header"],[1,"menu-divider"],[1,"order-table"],[4,"ngFor","ngForOf"],[3,"click"],[1,"order-details"],[4,"ngIf","ngIfElse"]],template:function(e,i){e&1&&(n(0,"html",1)(1,"head"),c(2,"meta",2)(3,"meta",3),n(4,"title"),a(5,"Orders History"),o()(),n(6,"body"),c(7,"app-menu"),n(8,"div",4)(9,"header",5)(10,"h1"),a(11,"Your Orders"),o(),c(12,"div",6),o(),n(13,"table",7)(14,"thead")(15,"tr")(16,"th"),a(17,"Order ID"),o(),n(18,"th"),a(19,"Total Price"),o(),n(20,"th"),a(21,"Status"),o(),n(22,"th"),a(23,"Created"),o(),n(24,"th"),a(25,"Updated"),o(),n(26,"th"),a(27,"Details"),o()()(),n(28,"tbody"),g(29,xe,21,6,"tr",8),o()()()()()),e&2&&(m(29),d("ngForOf",i.pageResponseOrderResponse))},dependencies:[R,y,C],styles:[ge,ge]})};function Se(r,t){if(r&1&&(n(0,"div",18),a(1),o()),r&2){let e=u();m(),M(" ",e.successMessage," ")}}function Ie(r,t){if(r&1&&(n(0,"div",19),a(1),o()),r&2){let e=u();m(),M(" ",e.failureMessage," ")}}var ue="body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif}.profile-page[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{text-align:center}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .profile-divider[_ngcontent-%COMP%]{margin:10px auto;width:50px;height:3px;background-color:#8a6b52}.profile-page[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;margin-top:20px}.profile-page[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.profile-page[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.profile-page[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:5px}.profile-page[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#8a6b52;outline:none}.profile-page[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1.2rem;font-weight:700;background-color:#8a6b52;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background .3s ease}.profile-page[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;margin-top:20px;padding:10px;font-size:1.2rem;font-weight:700;background-color:red;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background .3s ease}.role-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.role-dots[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:.5rem}.role-dots[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;text-align:center;cursor:pointer}input[type=radio][_ngcontent-%COMP%]{display:none}.dot[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;background-color:#d3d3d3;border:2px solid #ccc;margin:0 auto;display:block;box-sizing:border-box;transition:background-color .2s,border-color .2s}.dot.selected[_ngcontent-%COMP%]{background-color:#8a6b52;border-color:#8a6b52}.role-name[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.75rem;display:block}.update[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:20px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.2rem;font-weight:700;border:none;border-radius:5px;cursor:pointer;transition:background .3s ease}.button-group[_ngcontent-%COMP%]   .update-btn[_ngcontent-%COMP%], .button-group[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#8a6b52;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1.1rem}",L=class r{constructor(t,e,i){this.userService=t;this.authService=e;this.tokenService=i}user={};pageResponseUserResponse={};successMessage="";failureMessage="";ngOnInit(){let t=this.tokenService.getEmail();if(!t){console.error("No email found in token");return}this.userService.getUserByEmail(t).subscribe({next:e=>{this.user=e},error:e=>{console.error("Failed to load user",e)}})}updateProfile(){let t=this.user.id;if(!t){console.error("User ID not found. Cannot update account.");return}let e={id:this.user.id,first_name:this.user.first_name,last_name:this.user.last_name,email:this.user.email,password:this.user.password,dateOfBirth:this.user.dateOfBirth,roles:this.user.roles};this.userService.updateUser(t,e).subscribe({next:()=>{this.successMessage="Profile updated successfully.",setTimeout(()=>this.successMessage="",5e3)},error:i=>{this.failureMessage="Failed to update account.",setTimeout(()=>this.failureMessage="",5e3)}})}deleteAccount(){let t=this.user.id;if(!t){console.error("User ID not found. Cannot delete account.");return}this.userService.deleteUser(t).subscribe({next:()=>{this.successMessage="Account deleted successfully.",setTimeout(()=>this.successMessage="",5e3),this.authService.logout()},error:e=>{this.failureMessage="Failed to delete account.",setTimeout(()=>this.failureMessage="",5e3)}})}static \u0275fac=function(e){return new(e||r)(p(T),p(b),p(X))};static \u0275cmp=f({type:r,selectors:[["app-profile"]],standalone:!1,decls:41,vars:7,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"profile-page"],[1,"profile-header"],[1,"profile-divider"],[1,"profile-form",3,"ngSubmit"],[1,"form-group"],["type","text","name","firstName","required","",3,"ngModelChange","ngModel"],["type","text","name","lastName","required","",3,"ngModelChange","ngModel"],["type","date","name","dateOfBirth","required","",3,"ngModelChange","ngModel"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"button-group"],[1,"update-btn",3,"click"],[1,"delete-btn",3,"click"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(e,i){e&1&&(n(0,"html",0)(1,"head"),c(2,"meta",1)(3,"meta",2),n(4,"title"),a(5,"Menu"),o()(),n(6,"body"),c(7,"app-menu"),n(8,"div",3)(9,"header",4)(10,"h1"),a(11,"Your Profile"),o(),c(12,"div",5),o(),n(13,"form",6),O("ngSubmit",function(){return i.updateProfile()}),n(14,"div",7)(15,"label"),a(16,"First Name"),o(),n(17,"input",8),v("ngModelChange",function(s){return P(i.user.first_name,s)||(i.user.first_name=s),s}),o()(),n(18,"div",7)(19,"label"),a(20,"Last Name"),o(),n(21,"input",9),v("ngModelChange",function(s){return P(i.user.last_name,s)||(i.user.last_name=s),s}),o()(),n(22,"div",7)(23,"label"),a(24,"Date of Birth"),o(),n(25,"input",10),v("ngModelChange",function(s){return P(i.user.dateOfBirth,s)||(i.user.dateOfBirth=s),s}),o()(),n(26,"div",7)(27,"label"),a(28,"Email"),o(),n(29,"input",11),v("ngModelChange",function(s){return P(i.user.email,s)||(i.user.email=s),s}),o()(),n(30,"div",7)(31,"label"),a(32,"Password"),o(),n(33,"input",12),v("ngModelChange",function(s){return P(i.user.password,s)||(i.user.password=s),s}),o()()(),g(34,Se,2,1,"div",13)(35,Ie,2,1,"div",14),n(36,"div",15)(37,"button",16),O("click",function(){return i.updateProfile()}),a(38,"Update Profile"),o(),n(39,"button",17),O("click",function(){return i.deleteAccount()}),a(40,"Delete Account"),o()()()()()),e&2&&(m(17),h("ngModel",i.user.first_name),m(4),h("ngModel",i.user.last_name),m(4),h("ngModel",i.user.dateOfBirth),m(4),h("ngModel",i.user.email),m(4),h("ngModel",i.user.password),m(),d("ngIf",i.successMessage),m(),d("ngIf",i.failureMessage))},dependencies:[y,A,Z,$,k,te,ee,N,C],styles:[ue,ue]})};var Ee=[{path:"",component:U,canActivate:[I],data:{role:["EMPLOYEE"]}},{path:"menucafe",component:D,canActivate:[I],data:{role:["EMPLOYEE"]}},{path:"orders",component:z,canActivate:[I],data:{role:["EMPLOYEE"]}},{path:"profile",component:L,canActivate:[I],data:{role:["EMPLOYEE"]}}],j=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=w({type:r});static \u0275inj=E({imports:[W.forChild(Ee),W]})};var fe=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=w({type:r});static \u0275inj=E({imports:[J,j,ne,me]})};export{fe as CafeEmployeeModule};
